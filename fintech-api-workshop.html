<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fintech API Engineering Workshop - Kamran Khalid</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <script src="assets/js/menu-loader.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: "base",
            themeVariables: {
                background: "#111824",
                primaryColor: "#222e44",
                primaryTextColor: "#e6f0ff",
                primaryBorderColor: "#33d69f",
                lineColor: "#33d69f",
                secondaryColor: "#182233",
                tertiaryColor: "#0f151f",
                fontFamily: "IBM Plex Mono, Space Grotesk, Segoe UI, Arial, sans-serif",
                fontSize: "15px",
                edgeLabelBackground: "#182233"
            }
        });
    </script>
</head>

<body class="fintech-workshop-page" data-menu-root="." data-menu-active="community,fintech-api-workshop" data-menu-variant="default">
    <div class="page-rail">
        <div class="rail-progress" id="railProgress"></div>
    </div>
    <div id="site-menu"></div>

    <section class="page-hero">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">Home</a>
                <span>/</span>
                <a href="fintech-api.html">Fintech API</a>
                <span>/</span>
                <span>Workshop</span>
            </div>
            <div class="hero-split">
                <div class="hero-main">
                    <span class="page-label">UoM GDG · Fintech API Workshop</span>
                    <h1 class="page-title">Fintech API</h1>
                    <p class="page-subtitle">
                        Hands-on workshop on building payment APIs in a regulated environment, where security,
                        compliance, reliability, and auditability are system-level requirements.
                    </p>

                    <div class="hero-meta-clean">
                        <div class="hero-meta-row">
                            <span>Host</span>
                            <div>GDG on Campus, University of Manchester</div>
                        </div>
                        <div class="hero-meta-row">
                            <span>Date</span>
                            <div>February 25, 2025</div>
                        </div>
                        <div class="hero-meta-row">
                            <span>Project</span>
                            <div class="hero-meta-links">
                                <a href="https://github.com/kamrankhalid786/fintech-api-demo" target="_blank" rel="noopener">GitHub Repo</a>
                                <span class="hero-meta-divider">•</span>
                                <a href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener">README</a>
                            </div>
                        </div>
                    </div>

                    <p class="content-text">
                        This workshop connects the portfolio page and the live <code>fintech-api</code> demo project.
                        Students see how the same API fundamentals apply in both fintech and non-fintech systems, but
                        fintech adds strict controls around money movement, identity, and legal accountability.
                    </p>
                    <p class="content-text">
                        We frame the session around one idea: writing a normal <code>API</code> is mostly product
                        engineering; writing a fintech <code>API</code> is product engineering plus security
                        engineering plus regulatory engineering.
                    </p>
                    <div class="hero-focus-flow">
                        <div class="hero-focus-block">
                            <h3 class="section-subtitle-tight">Session Focus</h3>
                            <ul class="learning-list hero-list">
                                <li><a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>POST /orders</code></a> vs <a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>POST /v1/payments</code></a>.</li>
                                <li>In fintech, <code>idempotency</code>, <code>fraud</code>, <code>ledger</code>, and <code>audit</code> must execute consistently and safely.</li>
                            </ul>
                        </div>
                        <div class="hero-focus-block">
                            <h3 class="section-subtitle-tight">Workshop Outcomes</h3>
                            <ul class="learning-list hero-list">
                                <li>Understand where fintech API requirements diverge from general APIs.</li>
                                <li>See <code>idempotency</code>, <code>compliance</code>, <code>fraud</code>, <code>ledger</code>, and <code>audit</code> in one request flow.</li>
                                <li>Run and test the local API demo using CLI, curl, and Postman.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <aside class="hero-side" id="presenter">
                    <h2 class="section-title">Presenter</h2>
                    <div class="presenter-card">
                        <div class="presenter-head">
                            <img src="assets/profile.jpeg" alt="Kamran Khalid profile photo" class="presenter-photo">
                            <div>
                                <h3 class="section-subtitle-tight">Kamran Khalid</h3>
                                <p class="content-text presenter-role">Senior Backend Architect and Technical Leader</p>
                            </div>
                        </div>
                        <p class="content-text presenter-copy">
                            I build backend systems for reliability, scalability, and maintainability across fintech,
                            legal-tech, and event platforms. This workshop is based on real production patterns,
                            adapted into a teaching demo for API engineering practice.
                        </p>
                    </div>
                    <div class="sidebar-card plain-panel">
                        <div class="sidebar-title">What I emphasize</div>
                        <ul class="learning-list">
                            <li><strong><code>Design</code>:</strong> clear contracts, <code>idempotent</code> writes, failure-safe workflows.</li>
                            <li><strong><code>Security</code>:</strong> least privilege, <code>redaction</code>, safe handling of sensitive fields.</li>
                            <li><strong><code>Operations</code>:</strong> <code>auditability</code>, <code>traceability</code>, practical testing strategy.</li>
                        </ul>
                    </div>
                </aside>
            </div>
        </div>
    </section>

    <section class="section" id="concepts-architecture">
        <div class="container">
            <h2 class="section-title">Concepts + Architecture</h2>
            <p class="section-intro">
                At a high level, the API interface can look similar. The difference is the risk envelope: financial
                data, customer identity, legal obligations, and irreversible money impact.
            </p>
            <div class="concepts-architecture-split">
                <div class="concepts-column">
                    <div class="concepts-pillars">
                        <article class="concepts-pillar">
                            <h3><code>Security</code> and <code>Compliance</code></h3>
                            <ul class="learning-list compact-list">
                                <li>Strong encryption, secure key management, and tokenization of sensitive fields.</li>
                                <li><code>KYC</code>/<code>AML</code> checks before funds movement.</li>
                                <li>Regulatory reporting and traceability requirements by jurisdiction.</li>
                            </ul>
                        </article>
                        <article class="concepts-pillar">
                            <h3><code>Reliability</code> and <code>Data Handling</code></h3>
                            <ul class="learning-list compact-list">
                                <li>Atomic and <code>idempotent</code> transaction behavior.</li>
                                <li><code>Exactly-once</code> intent for payment side effects.</li>
                                <li>Strict storage and logging discipline for sensitive identity/payment data.</li>
                            </ul>
                        </article>
                        <article class="concepts-pillar">
                            <h3><code>Audit</code> and <code>Release Controls</code></h3>
                            <ul class="learning-list compact-list">
                                <li>Tamper-evident audit trails and fraud monitoring in real time.</li>
                                <li>Sandbox and certification-style environments for partner/testing flows.</li>
                                <li>Controlled production releases with security and penetration testing.</li>
                            </ul>
                        </article>
                    </div>
                </div>
                <div class="architecture-column">
                    <h3 class="section-subtitle">Architecture flow</h3>
                    <div class="clean-diagram-grid">
                        <article class="clean-diagram-card">
                            <h4>System architecture</h4>
                            <div class="mermaid">
flowchart TD
    A[HTTP Request\nPOST /v1/payments]
    B[Router\nsrc/routes/router.js]
    C[Controller\nsrc/routes/payments.js]
    D[Validation\nsrc/utils/validation.js]
    E[Compliance/Fraud\nsrc/core/*.js]
    F[Model Store\nsrc/core/store.js]
    G[Ledger + Audit]
    H[API Response\n201/202/422]
    A --> B --> C
    C --> D
    C --> E
    C --> F
    C --> G
    G --> H
                            </div>
                        </article>
                        <article class="clean-diagram-card">
                            <h4>Audit chain</h4>
                            <div class="mermaid">
sequenceDiagram
    participant API
    participant AuditLog
    API->>AuditLog: Write entry (prevHash, hash)
    AuditLog-->>API: Store entry
    API->>AuditLog: GET /v1/audit-logs/verify
    AuditLog-->>API: Verify chain integrity
                            </div>
                            <p class="diagram-caption">Each entry links to previous by hash.</p>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="demo">
        <div class="container">
            <h2 class="section-title">Demo</h2>
            <div class="demo-split">
                <div class="demo-main">
                    <p class="content-text">
                        The workshop uses <a class="inline-project-link" href="https://github.com/kamrankhalid786/fintech-api-demo" target="_blank" rel="noopener">GitHub Repo</a>,
                        a dependency-light Node.js project focused on behavior and architecture clarity.
                    </p>
                    <ul class="learning-list demo-feature-list">
                        <li><strong><code>Idempotency</code>:</strong> <code>Idempotency-Key</code> support on <a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>POST /v1/payments</code></a> to avoid double charging.</li>
                        <li><strong><code>Compliance</code>:</strong> <code>KYC</code>/<code>AML</code> gates before moving money.</li>
                        <li><strong><code>Fraud</code>:</strong> Velocity and pattern checks.</li>
                        <li><strong><code>Ledger</code>:</strong> Double-entry posting for every successful payment.</li>
                        <li><strong>Audit:</strong> Tamper-evident log chain using <code>prevHash</code> and <code>hash</code>.</li>
                        <li><strong><code>Data redaction</code>:</strong> Sensitive fields are masked in operational logs.</li>
                    </ul>
                </div>
                <aside class="demo-side">
                    <div class="sidebar-card plain-panel">
                        <div class="sidebar-title">Demo Links</div>
                        <div class="meta-links">
                            <a class="link-button" href="https://github.com/kamrankhalid786/fintech-api-demo" target="_blank" rel="noopener">GitHub Repo</a>
                            <a class="link-button" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener">README</a>
                        </div>
                    </div>
                    <div class="sidebar-card plain-panel">
                        <div class="sidebar-title">Primary Endpoints</div>
                        <ul class="learning-list endpoint-list">
                            <li><a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>GET /health</code></a></li>
                            <li><a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>GET /v1/accounts</code></a></li>
                            <li><a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>POST /v1/payments</code></a></li>
                        </ul>
                    </div>
                </aside>
            </div>

            <h3 class="section-subtitle">Endpoint comparison</h3>
            <div class="endpoint-comparison-split">
                <article class="endpoint-flow">
                    <h4>General API endpoint</h4>
                    <p class="visual-note endpoint-title">
                        <a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>POST /orders</code></a>
                    </p>
                    <ul class="learning-list endpoint-flow-list">
                        <li>validate payload</li>
                        <li>create order record</li>
                        <li>return confirmation</li>
                    </ul>
                </article>
                <article class="endpoint-flow">
                    <h4>Fintech API endpoint</h4>
                    <p class="visual-note endpoint-title">
                        <a class="endpoint-url" href="https://github.com/kamrankhalid786/fintech-api-demo#readme" target="_blank" rel="noopener"><code>POST /v1/payments</code></a>
                    </p>
                    <ul class="learning-list endpoint-flow-list">
                        <li>auth and idempotency gate</li>
                        <li>KYC/AML and fraud checks</li>
                        <li>ledger post when approved</li>
                        <li>audit chain write</li>
                        <li>deterministic response</li>
                    </ul>
                </article>
            </div>
        </div>
    </section>

    <section class="section" id="workshop">
        <div class="container">
            <h2 class="section-title">Workshop</h2>
            <p class="section-intro">Hands-on steps used during the session.</p>
            <div class="workshop-step-list learning-steps">
                <article class="workshop-step">
                    <h3>Step 1: Clone and enter the project</h3>
                    <pre class="workshop-code"><code>git clone https://github.com/kamrankhalid786/fintech-api-demo.git
cd fintech-api-demo</code></pre>
                </article>
                <article class="workshop-step">
                    <h3>Step 2: Prepare <code>.env</code> config</h3>
                    <pre class="workshop-code"><code>cp .env.example .env</code></pre>
                    <p class="content-text step-note">Default demo token: <code>demo-fintech-token</code></p>
                </article>
                <article class="workshop-step">
                    <h3>Step 3: Run tests and start server</h3>
                    <pre class="workshop-code"><code>npm test
npm start</code></pre>
                    <p class="content-text step-note">Default local URL: <code>http://localhost:3000</code></p>
                </article>
                <article class="workshop-step">
                    <h3>Step 4: Validate endpoints</h3>
                    <pre class="workshop-code"><code>curl -s http://localhost:3000/health

curl -s http://localhost:3000/v1/accounts \
  -H "Authorization: Bearer demo-fintech-token"</code></pre>
                </article>
            </div>

            <h3 class="section-subtitle" id="code-steps"><code>Code Steps</code> and <code>Diagrams</code>: <code>Route</code> -> <code>Controller</code> -> <code>Model</code> -> <code>Validation</code></h3>
            <div class="workshop-pair-list">
                <div class="workshop-pair-row">
                    <article class="code-step-card">
                        <h4><code>Route</code></h4>
                        <p class="visual-note">File: <code>src/routes/router.js</code></p>
                        <pre class="workshop-code"><code>if (req.method === "POST" && path === "/v1/payments") {
  createPayment(req, res);
  return true;
}</code></pre>
                    </article>
                    <article class="clean-diagram-card">
                        <h4>Route mapping</h4>
                        <div class="mermaid">
flowchart LR
    A[Request]
    B[routeRequest]
    C{POST /v1/payments?}
    D[createPayment]
    E[return true]
    F[next route checks]
    A --> B --> C
    C -- Yes --> D --> E
    C -- No --> F
                        </div>
                    </article>
                </div>

                <div class="workshop-pair-row">
                    <article class="code-step-card">
                        <h4><code>Controller</code></h4>
                        <p class="visual-note">File: <code>src/routes/payments.js</code></p>
                        <pre class="workshop-code"><code>export function createPayment(req, res) {
  const payload = req.body ?? {};
  validatePaymentPayload(payload);

  const idempotencyKey = req.headers["idempotency-key"];
  const replay = getIdempotencyResult("POST:/v1/payments", idempotencyKey, payload);
  if (replay) return sendJson(res, replay.statusCode, replay.body, { "Idempotency-Replayed": "true" });

  // compliance + fraud + ledger + audit
}</code></pre>
                    </article>
                    <article class="clean-diagram-card">
                        <h4>Controller orchestration</h4>
                        <div class="mermaid">
sequenceDiagram
    participant C as Controller
    participant V as Validate
    participant I as Idempotency
    participant R as Risk
    participant L as Ledger/Audit
    C->>V: Validate payload
    V-->>C: OK
    C->>I: Check key
    I-->>C: Replay or proceed
    C->>R: Compliance + fraud
    R-->>C: Decision
    C->>L: Ledger post + audit
    L-->>C: Done
    C-->>C: Send response
                        </div>
                    </article>
                </div>

                <div class="workshop-pair-row">
                    <article class="code-step-card">
                        <h4><code>Model</code> (In-memory store)</h4>
                        <p class="visual-note">File: <code>src/core/store.js</code></p>
                        <pre class="workshop-code"><code>export const store = {
  customers: seedCustomers(),
  accounts: seedAccounts(),
  payments: new Map(),
  ledgerEntries: [],
  auditLogs: [],
  idempotencyKeys: new Map(),
  recentPaymentAttempts: []
};</code></pre>
                    </article>
                    <article class="clean-diagram-card">
                        <h4>Model and state</h4>
                        <div class="mermaid">
flowchart LR
    A[store]
    B[customers + accounts]
    C[payments + idempotency]
    D[ledger + audit]
    E[recentAttempts]
    A --> B
    A --> C
    A --> D
    A --> E
                        </div>
                    </article>
                </div>

                <div class="workshop-pair-row">
                    <article class="code-step-card">
                        <h4><code>Validation</code></h4>
                        <p class="visual-note">File: <code>src/utils/validation.js</code></p>
                        <pre class="workshop-code"><code>export function validatePaymentPayload(payload) {
  if (!isNonEmptyString(payload.sourceAccountId)) throw new ApiError(400, "VALIDATION_ERROR");
  if (!isNonEmptyString(payload.destinationAccountId)) throw new ApiError(400, "VALIDATION_ERROR");
  if (payload.sourceAccountId === payload.destinationAccountId) throw new ApiError(400, "VALIDATION_ERROR");
  if (!Number.isInteger(payload.amountCents) || payload.amountCents <= 0) throw new ApiError(400, "VALIDATION_ERROR");
}</code></pre>
                    </article>
                    <article class="clean-diagram-card">
                        <h4>Validation rules</h4>
                        <div class="mermaid">
flowchart LR
    A[Validate payload]
    B{Fields valid?}
    C{Amount > 0?}
    D[Accept]
    X[ApiError 400]
    A --> B
    B -- No --> X
    B -- Yes --> C
    C -- No --> X
    C -- Yes --> D
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="run-execution">
        <div class="container">
            <h2 class="section-title">Run &amp; Execution</h2>
            <div class="terminal-card">
                <div class="terminal-header">
                    <span class="terminal-dot"></span>
                    <span class="terminal-dot"></span>
                    <span class="terminal-dot"></span>
                </div>
                <div class="terminal-text">
                    $ cd fintech-api-demo<br>
                    $ cp .env.example .env<br>
                    $ npm test<br>
                    $ npm start<br>
                    $ curl -s http://localhost:3000/health<br>
                    $ curl -s http://localhost:3000/v1/accounts -H "Authorization: Bearer demo-fintech-token"<br>
                    $ curl -s -X POST http://localhost:3000/v1/payments ...<br>
                </div>
                <div class="terminal-section-title">Exercise</div>
                <div class="terminal-text">
                    Repeat the same payment request with the same <code>Idempotency-Key</code> and observe
                    how the API avoids duplicate financial side effects.
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                &copy; 2026 Kamran Khalid. All rights reserved.<br>
                Fintech API Engineering Workshop · February 25, 2025 · University of Manchester GDG
            </div>
        </div>
    </footer>

    <script>
        function toggleMenu() {
            document.getElementById("navLinks").classList.toggle("active");
        }

        function updateRail() {
            var rail = document.getElementById("railProgress");
            if (!rail) return;
            var docHeight = document.documentElement.scrollHeight - window.innerHeight;
            var percent = docHeight > 0 ? (window.scrollY / docHeight) * 100 : 0;
            rail.style.height = percent + "%";
        }

        window.addEventListener("scroll", updateRail);
        window.addEventListener("resize", updateRail);
        window.addEventListener("load", updateRail);
    </script>
</body>

</html>
